<script>
  document
    .querySelector("#popup_sumbit_price")
    .addEventListener("click", async () => {
      const dates = document.querySelector("#form-field-dates").value;
      const price = document.querySelector("#form-field-price").value;
      const hfrri = document.querySelector("#form-field-h_f_r_r_i").value;
      const hfri = document.querySelector("#form-field-h_f_r_i").value;

      document.querySelector(".response_status_pop a").click();
      const apicalls = [
        rentamonApiCaller(
          (website = "otherv2"),
          (data = {
            rentamon_room_id: routes["otherv2"]["room"],
            days: dates,
            price: price,
          }),
          (action = "price")
        ),

        rentamonApiCaller(
          (website = "jabama"),
          (data = {
            rentamon_room_id: routes["jabama"]["room"],
            days: dates,
            price: price,
            discount: 0,
          }),
          (action = "price")
        ),

        rentamonApiCaller(
          (website = "otaghak"),
          (data = {
            rentamon_room_id: routes["otaghak"]["room"],
            days: dates,
            price: price,
          }),
          (action = "price")
        ),

        rentamonApiCaller(
          (website = "shab"),
          (data = {
            rentamon_room_id: routes["shab"]["room"],
            dates: dates,
            price: price,
          }),
          (action = "price")
        ),
        rentamonApiCaller(
          (website = "mizboon"),
          (data = {
            days: dates,
            rentamon_room_id: routes["mizboon"]["room"],
            price: price,
          }),
          (action = "price")
        ),

        rentamonApiCaller(
          (website = "jajiga"),
          (data = {
            dates: dates,
            rentamon_room_id: routes["jajiga"]["room"],
            price: price,
          }),
          (action = "price")
        ),
        rentamonApiCaller(
          (website = "mihmansho"),
          (data = {
            rentamon_room_id: routes["mihmansho"]["room"],
            days: dates,
            price: price,
          }),
          (action = "price")
        ),

        rentamonApiCaller(
          (website = "homsa"),
          (data = {
            rentamon_room_id: routes["homsa"]["room"],
            days: dates,
            price: price,
          }),
          (action = "price")
        ),
      ];
      const resps = await Promise.all(apicalls);
      setTimeout(rentamoning, 2000);
    });
</script>
